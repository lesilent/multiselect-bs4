!function(){"use strict";var e={collapseOptGroupsByDefault:!1,enableCaseSensitiveFiltering:!1,enableCollapsibleOptGroups:!1,enableFiltering:!1,includeSelectAllOption:!1,includeSelectAllOptionMin:10,minScreenWidth:576,selectAllDeselectAll:!1,selectAllText:"All",selectAllValue:""},t=!1;function d(e){return e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}jQuery.fn.multiselect=function(o){var i=parseInt(jQuery.fn.dropdown.Constructor.VERSION.replace(/\..+$/,""));if(i<4&&console.error("Invalid bootstrap version "+i+" detected"),"string"==typeof o||"boolean"==typeof o){if(this.length<1)return;var l=1==arguments.length,n=!1,s=l?void 0:arguments[1];switch(o){case"dispose":jQuery("#"+this.attr("id")+"-multiselect-div").remove(),this.data("options",null).toggleClass("d-none",!1);break;case"collapseOptGroupsByDefault":case"enableCaseSensitiveFiltering":case"enableCollapsibleOptGroups":case"enableFiltering":case"includeSelectAllOption":case"selectAllDeselectAll":n="boolean";break;case"includeSelectAllOptionMin":n="number",l||(parseInt(s)>0?s=parseInt(s):console.warn("Invalid "+o));break;case"selectAllText":case"selectAllValue":n="string"}if(n){var a=this.data("options")||{};if(l)return a[o];typeof s==n?(a[o]=s,this.data("options",a)):console.warn("Invalid "+o)}return this}t||(t=!0,jQuery(document.head).append('<style id="multiselect-style">.caret { display: inline-block; width:0; height:0; margin-left:5px; margin-right:5px; vertical-align:middle; border-top:4px solid; border-right:4px solid transparent; border-left:4px solid transparent; }</style>')),void 0===o&&(o={});var c=jQuery.extend({},e,o);return c.minScreenWidth&&window.screen.width<c.minScreenWidth?this:(c.selectAllText||(c.selectAllText=e.selectAllText),c.includeSelectAllOptionMin="string"==typeof c.includeSelectAllOptionMin&&0==c.includeSelectAllOptionMin.length?e.includeSelectAllOptionMin:parseInt(c.includeSelectAllOptionMin),this.each(function(){var e=jQuery(this),t=this.id||"select-"+Math.floor(1e6*Math.random()+1);this.id||(this.id=t);var o=jQuery.extend(!0,{},c),i=e.find("option").length,l=0,n=[],s=", ";e.data("options",o).find("option:selected").each(function(){++l<10&&(n.push(this.innerText),", "==s&&this.innerText.indexOf(",")>=0&&(s="; "))});var a=e.offset().top>0?Math.max(window.innerHeight-Math.ceil(e.offset().top)-48,320)+"px":"20rem",r=e.offsetParent().position().top>320?"dynamic":"static",p=jQuery('label[for="'+t+'"]'),h='<div id="'+t+'-multiselect-div" class="btn-group btn-block dropdown d-print-none'+(o.dropUp?" dropup":"")+(o.dropRight?" dropright":"")+'"><button type="button" id="'+t+'-dropdown-btn" class="btn btn-outline-secondary btn-block overflow-hidden dropdown-toggle '+(l>0?"active bg-secondary text-white":"bg-white text-dark")+'" data-toggle="dropdown" data-boundary="window" data-display="'+r+'" aria-haspopup="true" aria-expanded="false" aria-pressed="'+(l>0?"true":"false")+'" '+(this.disabled?'disabled="disabled"':"")+' style="border-top-right-radius:0; border-bottom-right-radius:0;">'+((p.hasClass("sr-only")||p.hasClass("invisible")||p.hasClass("hidden")||p.prop("hidden"))&&p.html().replace(/\s*:$/,"")||"")+'<div class="d-inline-flex justify-content-center align-items-center" style="max-width:calc(100% - 2rem)">&nbsp;<div id="'+t+'-dropdown-text" class="text-truncate"'+(l>0?"":' hidden="hidden"')+">"+n.join(s)+'</div>&nbsp;<div id="'+t+'-dropdown-badge" class="badge badge-light" '+(l>1?"":'hidden="hidden"')+">"+l+'</div></div></button><div id="'+t+'-dropdown-menu" class="dropdown-menu overflow-auto pb-0 w-100'+(e.offset().left>window.innerWidth/2?" dropdown-menu-right":"")+'" aria-labelledby="'+t+'-dropdown-btn" style="overflow-y:scroll; max-height:'+a+';">';o.enableFiltering&&(h+='<div class="dropdown-item-text px-2"><div class="input-group"><div class="input-group-prepend"><span id="'+t+'-search" class="input-group-text"><i class="fas fa-search"></i></div><input type="text" id="'+t+'-search-input" class="form-control" autocomplete="off" aria-describedby="'+t+'-search" /><div class="input-group-append"><button type="button" id="'+t+'-search-reset" class="btn btn-outline-secondary"><i class="far fa-times-circle"></i></button></div></div></div>'),(o.includeSelectAllOption||!1!==o.includeSelectAllOptionMin&&e.find("option").length>=o.includeSelectAllOptionMin)&&(h+='<div id="'+t+'-dropdown-item-all" class="dropdown-item-text text-nowrap px-2"><label class="mb-0 text-truncate d-block" for="'+t+'-dropdown-checkbox-all"><input type="checkbox" id="'+t+'-dropdown-checkbox-all" class="dropdown-checkbox" value="'+d(o.selectAllValue)+'" '+(l==i?'checked="checked"':"")+' disabled="disabled" autocomplete="off" /> '+d(o.selectAllText)+"</label></div>");var b=1;e.children("option,optgroup").each(function(){var e=this.disabled;if("optgroup"==this.tagName.toLowerCase()){var i=jQuery(this).children("option"),l=i.length,n=b,s=b+l-1,a=t+"-dropdown-optgroup-checkbox-"+b,c=t+"-dropdown-collapse-"+b;h+='<div class="border-top border-bottom"><div class="dropdown-item-text px-2 text-nowrap'+(o.enableCollapsibleOptGroups?" collapse-toggle":"")+'"><label class="mb-0 d-inline-block font-weight-bolder'+(e?" text-muted":"")+'" for="'+a+'"><input type="checkbox" id="'+a+'" class="'+(l>0?"dropdown-group-checkbox":"")+'"'+(l>0&&i.filter(":selected").length==l?' checked="checked"':"")+(e?' disabled="disabled"':"")+' data-offset="['+b+","+s+']" /> '+d(this.label)+"</label>"+(o.enableCollapsibleOptGroups&&l>0?'<a class="collapse-toggle text-body" href="javascript:void(0)" role="button" data-toggle="collapse" aria-expanded="false" aria-controls="'+c+'"><i class="caret"></i></a>':"")+'</div><div id="'+c+'" class="collapse'+(o.enableCollapsibleOptGroups&&o.collapseOptGroupsByDefault?"":" show")+'">',i.each(function(){var o=e||this.disabled;h+='<div id="'+t+"-dropdown-item-"+b+'" class="dropdown-item-text text-nowrap px-2 '+t+'-dropdown-item"><label class="mb-0 d-inline-block ml-3'+(o?" text-muted":"")+'" for="'+t+"-dropdown-checkbox-"+b+'"><input type="checkbox" id="'+t+"-dropdown-checkbox-"+b+'" class="dropdown-checkbox" value="'+d(this.value)+'" data-offset="'+b+'" data-optgroup="'+n+'"'+(this.selected?' checked="checked"':"")+(o?' disabled="disabled"':"")+' autocomplete="off" /> '+d(this.text)+"</label></div>",b++}),h+="</div></div>"}else h+='<div id="'+t+"-dropdown-item-"+b+'" class="dropdown-item-text text-nowrap px-2 '+t+'-dropdown-item"><label class="mb-0 d-inline-block'+(e?" text-muted":"")+'" for="'+t+"-dropdown-checkbox-"+b+'"><input type="checkbox" id="'+t+"-dropdown-checkbox-"+b+'" class="dropdown-checkbox" value="'+d(this.value)+'" data-offset="'+b+'"'+(this.selected?' checked="checked"':"")+(e?' disabled="disabled"':"")+' autocomplete="off" /> '+d(this.text)+"</label></div>",b++}),h+='</div><button type="button" id="'+t+'-reset-btn" class="btn btn-outline-secondary bg-white text-secondary"'+(this.disabled||l<1?' disabled="disabled"':"")+'><i class="far fa-times-circle"></i></button></div>',e.toggleClass("d-none",!0).after(h);var u=jQuery("#"+t+"-dropdown-menu").on("click",function(e){e.stopPropagation()});u.find("input.dropdown-group-checkbox").on("click",function(){for(var d=jQuery(this).data("offset"),o=d[0];o<=d[1];o++)e.find("option").eq(o-1).not(":disabled").data("selected",this.checked).prop("selected",this.checked);l=e.find("option:selected").length,jQuery("#"+t+"-dropdown-badge").text(l).prop("hidden",l<1),e.trigger("change")}),u.find("input.dropdown-checkbox").on("click",function(){var d=jQuery(this).data("offset");if(d>0){var o=jQuery(this).data("optgroup");if(o>0){var i=!1;this.checked&&(i=0==jQuery("#"+t+"-dropdown-collapse-"+o).find("input.dropdown-checkbox:not(:checked)").length),jQuery("#"+t+"-dropdown-optgroup-checkbox-"+o).prop("checked",i)}e.find("option").eq(d-1).data("selected",this.checked).prop("selected",this.checked),l=e.find("option:selected").length,jQuery("#"+t+"-dropdown-badge").text(l).prop("hidden",l<1),e.trigger("change")}}),jQuery("#"+t+"-dropdown-checkbox-all").on("click",function(){if(this.checked&&o.enableFiltering&&document.getElementById(t+"-search-input").value.length>0){var d=u.find("."+t+"-dropdown-item:not(.d-none)").find(".dropdown-checkbox:not([disabled]");d.prop("checked",!0).each(function(){var t=jQuery(this).data("offset");e.find("option").eq(t-1).data("selected",!0).prop("selected",!0)}),jQuery("#"+t+"-dropdown-badge").text(d.length).prop("hidden",0==d.length)}else u.find("input.dropdown-checkbox:not([disabled]), input.dropdown-group-checkbox:not([disabled])").prop("checked",this.checked),jQuery("#"+t+"-dropdown-badge").text(this.checked?i:0).prop("hidden",!this.checked),e.find("option").data("selected",this.checked).prop("selected",this.checked&&!o.selectAllDeselectAll)}).prop("disabled",!1),o.enableCollapsibleOptGroups&&u.find(".collapse-toggle").on("click",function(){jQuery("#"+this.getAttribute("aria-controls")).collapse("toggle")}),o.enableFiltering&&(jQuery("#"+t+"-search-reset").on("click",function(){document.getElementById(t+"-search-input").value="",u.find("."+t+"-dropdown-item").toggleClass("d-none",!1)}),jQuery("#"+t+"-search-input").on("keyup",function(e){var d=this.value.replace(/^\s+|\s+$/g,"");o.enableCaseSensitiveFiltering||(d=d.toLowerCase()),d.length>0?u.find("."+t+"-dropdown-item").each(function(){var e=jQuery(this),t=e.text();e.toggleClass("d-none",(o.enableCaseSensitiveFiltering?t.indexOf(d):t.toLowerCase().indexOf(d))<0)}):u.find("."+t+"-dropdown-item").toggleClass("d-none",!1)}).prop("disabled",!1)),e.find("optgroup[disabled] > option:not([disabled])").prop("disabled",!0),e.on("change",function(){u.find("input.dropdown-checkbox").prop("checked",!1),l=0,n=[],s=", ";var d=!0;e.find("option").each(function(e){this.selected?jQuery(this).data("selected",!0):(o.selectAllDeselectAll&&jQuery(this).data("selected")&&(this.selected=!0),this.selected||(d=!1)),u.find("#"+t+"-dropdown-checkbox-"+(e+1)).prop({disabled:this.disabled,checked:this.selected}),this.selected&&++l<10&&(n.push(this.innerText),", "==s&&this.innerText.indexOf(",")>=0&&(s="; "))}),jQuery("#"+t+"-dropdown-text").text(n.join(s)).prop("hidden",l<1),jQuery("#"+t+"-dropdown-badge").text(l).prop("hidden",l<2),jQuery("#"+t+"-dropdown-btn").toggleClass(["active","bg-secondary","text-white"],l>0).toggleClass(["bg-white","text-dark"],l<1).attr("aria-pressed",l>0),jQuery("#"+t+"-reset-btn").prop("disabled",l<1),o.selectAllDeselectAll&&d&&e.find("option:selected").prop("selected",!1)}),jQuery("#"+t+"-reset-btn").on("click",function(){e.find("option:selected:not(:disabled)").data("selected",!1).prop("selected",!1),u.find("input.dropdown-checkbox").prop("checked",!1),jQuery("#"+t+"-dropdown-badge").text(0).prop("hidden",!0),jQuery("#"+t+"-dropdown-btn").toggleClass(["active","bg-secondary","text-white"],!1).toggleClass(["bg-white","text-dark"],!0).attr("aria-pressed",!1),this.disabled=!0,e.trigger("change")}),jQuery(window).on("pageshow",function(){e.trigger("change")})}))}}();