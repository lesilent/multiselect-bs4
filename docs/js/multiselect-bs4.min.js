!function(){"use strict";var e={collapseOptGroupsByDefault:!1,enableCaseSensitiveFiltering:!1,enableCollapsibleOptGroups:!1,enableFiltering:!1,includeSelectAllOption:!1,includeSelectAllOptionMin:10,minScreenWidth:576,selectAllDeselectAll:!1,selectAllText:"All",selectAllValue:""},t=!1;function o(e){return e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}jQuery.fn.multiselect=function(i){var d=parseInt(jQuery.fn.dropdown.Constructor.VERSION.replace(/\..+$/,""));if(d<4&&console.error("Invalid bootstrap version "+d+" detected"),"string"==typeof i||"boolean"==typeof i){if(this.length<1)return;var n=1==arguments.length,l=!1,a=n?void 0:arguments[1];switch(i){case"dispose":jQuery("#"+this.attr("id")+"-multiselect-div").remove(),this.data("options",null).toggleClass("d-none",!1);break;case"collapseOptGroupsByDefault":case"enableCaseSensitiveFiltering":case"enableCollapsibleOptGroups":case"enableFiltering":case"includeSelectAllOption":case"selectAllDeselectAll":l="boolean";break;case"includeSelectAllOptionMin":l="number",n||(parseInt(a)>0?a=parseInt(a):console.warn("Invalid "+i));break;case"selectAllText":case"selectAllValue":l="string"}if(l){var s=this.data("options")||{};if(n)return s[i];typeof a==l?(s[i]=a,this.data("options",s)):console.warn("Invalid "+i)}return this}t||(t=!0,jQuery(document.head).append('<style id="multiselect-style">.caret { display: inline-block; width:0; height:0; margin-left:5px; margin-right:5px; vertical-align:middle; border-top:4px solid; border-right:4px solid transparent; border-left:4px solid transparent; }</style>')),void 0===i&&(i={});var r=jQuery.extend({},e,i);return r.minScreenWidth&&window.screen.width<r.minScreenWidth?this:(r.selectAllText||(r.selectAllText=e.selectAllText),r.includeSelectAllOptionMin="string"==typeof r.includeSelectAllOptionMin&&0==r.includeSelectAllOptionMin.length?e.includeSelectAllOptionMin:parseInt(r.includeSelectAllOptionMin),this.each((function(){var e=jQuery(this),t=this.id||"select-"+Math.floor(1e6*Math.random()+1);this.id||(this.id=t);var i=jQuery.extend(!0,{},r),d=e.find("option").length,n=0,l=[],a=", ";e.data("options",i).find("option:selected").each((function(){++n<10&&(l.push(this.innerText),", "==a&&this.innerText.indexOf(",")>=0&&(a="; "))}));var s=e.offset().top>0?Math.max(window.innerHeight-Math.ceil(e.offset().top)-48,320)+"px":"20rem",c=e.offsetParent().position().top>320?"dynamic":"static",p=jQuery('label[for="'+t+'"]'),h='<div id="'+t+'-multiselect-div" class="btn-group btn-block dropdown d-print-none'+(i.dropUp?" dropup":"")+(i.dropRight?" dropright":"")+'"><button type="button" id="'+t+'-dropdown-btn" class="btn btn-outline-secondary btn-block overflow-hidden dropdown-toggle '+(n>0?"active bg-secondary text-white":"bg-white text-dark")+'" data-toggle="dropdown" data-boundary="window" data-display="'+c+'" aria-haspopup="true" aria-expanded="false" aria-pressed="'+(n>0?"true":"false")+'" '+(this.disabled?'disabled="disabled"':"")+' style="border-top-right-radius:0; border-bottom-right-radius:0;">'+((p.hasClass("sr-only")||p.hasClass("invisible")||p.hasClass("hidden")||p.prop("hidden"))&&p.html().replace(/\s*:$/,"")||"")+'<div class="d-inline-flex justify-content-center align-items-center" style="max-width:calc(100% - 2rem)">&nbsp;<div id="'+t+'-dropdown-text" class="text-truncate"'+(n>0?"":' hidden="hidden"')+">"+l.join(a)+'</div>&nbsp;<div id="'+t+'-dropdown-badge" class="badge badge-light" '+(n>1?"":'hidden="hidden"')+">"+n+'</div></div></button><div id="'+t+'-dropdown-menu" class="dropdown-menu overflow-auto pb-0 w-100'+(e.offset().left>window.innerWidth/2?" dropdown-menu-right":"")+'" aria-labelledby="'+t+'-dropdown-btn" style="overflow-y:scroll; max-height:'+s+';">';i.enableFiltering&&(h+='<div class="dropdown-item-text px-2"><div class="input-group"><div class="input-group-prepend"><span id="'+t+'-search" class="input-group-text"><i class="fas fa-search"></i></div><input type="text" id="'+t+'-search-input" class="form-control" autocomplete="off" aria-describedby="'+t+'-search" /><div class="input-group-append"><button type="button" id="'+t+'-search-reset" class="btn btn-outline-secondary"><i class="far fa-times-circle"></i></button></div></div></div>'),(i.includeSelectAllOption||!1!==i.includeSelectAllOptionMin&&e.find("option").length>=i.includeSelectAllOptionMin)&&(h+='<div id="'+t+'-dropdown-item-all" class="dropdown-item-text text-nowrap px-2"><label class="mb-0 text-truncate d-block" for="'+t+'-dropdown-checkbox-all"><input type="checkbox" id="'+t+'-dropdown-checkbox-all" class="dropdown-checkbox" value="'+o(i.selectAllValue)+'" '+(n==d?'checked="checked"':"")+' disabled="disabled" autocomplete="off" /> '+o(i.selectAllText)+"</label></div>");var u=1;e.children("option,optgroup").each((function(){var e=this.disabled;if("optgroup"==this.tagName.toLowerCase()){var d=jQuery(this).children("option"),n=d.length,l=u,a=u+n-1,s=t+"-dropdown-optgroup-checkbox-"+u,r=t+"-dropdown-collapse-"+u;h+='<div class="border-top border-bottom"><div class="dropdown-item-text px-2 text-nowrap'+(i.enableCollapsibleOptGroups?" collapse-toggle":"")+'"><label class="mb-0 d-inline-block font-weight-bolder'+(e?" text-muted":"")+'" for="'+s+'"><input type="checkbox" id="'+s+'" class="'+(n>0?"dropdown-group-checkbox":"")+'"'+(n>0&&d.filter(":selected").length==n?' checked="checked"':"")+(e?' disabled="disabled"':"")+' data-offset="['+u+","+a+']" /> '+o(this.label)+"</label>"+(i.enableCollapsibleOptGroups&&n>0?'<a class="collapse-toggle text-body" href="javascript:void(0)" role="button" data-toggle="collapse" aria-expanded="false" aria-controls="'+r+'"><i class="caret"></i></a>':"")+'</div><div id="'+r+'" class="collapse'+(i.enableCollapsibleOptGroups&&i.collapseOptGroupsByDefault?"":" show")+'">',d.each((function(){var i=e||this.disabled;h+='<div id="'+t+"-dropdown-item-"+u+'" class="dropdown-item-text text-nowrap px-2 '+t+'-dropdown-item"><label class="mb-0 d-inline-block ml-3'+(i?" text-muted":"")+'" for="'+t+"-dropdown-checkbox-"+u+'"><input type="checkbox" id="'+t+"-dropdown-checkbox-"+u+'" class="dropdown-checkbox" value="'+o(this.value)+'" data-offset="'+u+'" data-optgroup="'+l+'"'+(this.selected?' checked="checked"':"")+(i?' disabled="disabled"':"")+' autocomplete="off" /> '+o(this.text)+"</label></div>",u++})),h+="</div></div>"}else h+='<div id="'+t+"-dropdown-item-"+u+'" class="dropdown-item-text text-nowrap px-2 '+t+'-dropdown-item"><label class="mb-0 d-inline-block'+(e?" text-muted":"")+'" for="'+t+"-dropdown-checkbox-"+u+'"><input type="checkbox" id="'+t+"-dropdown-checkbox-"+u+'" class="dropdown-checkbox" value="'+o(this.value)+'" data-offset="'+u+'"'+(this.selected?' checked="checked"':"")+(e?' disabled="disabled"':"")+' autocomplete="off" /> '+o(this.text)+"</label></div>",u++})),h+='</div><button type="button" id="'+t+'-reset-btn" class="btn btn-outline-secondary bg-white text-secondary"'+(this.disabled||n<1?' disabled="disabled"':"")+'><i class="far fa-times-circle"></i></button></div>',e.toggleClass("d-none",!0).after(h);var b=jQuery("#"+t+"-dropdown-menu").on("click",(function(e){e.stopPropagation()}));b.find("input.dropdown-group-checkbox").on("click",(function(){for(var o=jQuery(this).data("offset"),i=o[0];i<=o[1];i++)e.find("option").eq(i-1).not(":disabled").prop("selected",this.checked);n=e.find("option:selected").length,jQuery("#"+t+"-dropdown-badge").text(n).prop("hidden",n<1),e.trigger("change")})),b.find("input.dropdown-checkbox").on("click",(function(){var o=jQuery(this).data("offset");if(o>0){var i=jQuery(this).data("optgroup");if(i>0){var d=!1;this.checked&&(d=0==jQuery("#"+t+"-dropdown-collapse-"+i).find("input.dropdown-checkbox:not(:checked)").length),jQuery("#"+t+"-dropdown-optgroup-checkbox-"+i).prop("checked",d)}e.find("option").eq(o-1).prop("selected",this.checked),n=e.find("option:selected").length,jQuery("#"+t+"-dropdown-badge").text(n).prop("hidden",n<1),e.trigger("change")}})),jQuery("#"+t+"-dropdown-checkbox-all").on("click",(function(){if(this.checked&&i.enableFiltering&&document.getElementById(t+"-search-input").value.length>0){var o=b.find("."+t+"-dropdown-item:not(.d-none)").find(".dropdown-checkbox:not([disabled]");o.prop("checked",!0).each((function(){var t=jQuery(this).data("offset");e.find("option").eq(t-1).prop("selected",!0)})),jQuery("#"+t+"-dropdown-badge").text(o.length).prop("hidden",0==o.length)}else b.find("input.dropdown-checkbox:not([disabled]), input.dropdown-group-checkbox:not([disabled])").prop("checked",this.checked),jQuery("#"+t+"-dropdown-badge").text(this.checked?d:0).prop("hidden",!this.checked),e.find("option").prop("selected",this.checked&&!i.selectAllDeselectAll)})).prop("disabled",!1),i.enableCollapsibleOptGroups&&b.find(".collapse-toggle").on("click",(function(){jQuery("#"+this.getAttribute("aria-controls")).collapse("toggle")})),i.enableFiltering&&(jQuery("#"+t+"-search-reset").on("click",(function(){document.getElementById(t+"-search-input").value="",b.find("."+t+"-dropdown-item").toggleClass("d-none",!1)})),jQuery("#"+t+"-search-input").on("keyup",(function(e){var o=this.value.replace(/^\s+|\s+$/g,"");i.enableCaseSensitiveFiltering||(o=o.toLowerCase()),o.length>0?b.find("."+t+"-dropdown-item").each((function(){var e=jQuery(this),t=e.text();e.toggleClass("d-none",(i.enableCaseSensitiveFiltering?t.indexOf(o):t.toLowerCase().indexOf(o))<0)})):b.find("."+t+"-dropdown-item").toggleClass("d-none",!1)})).prop("disabled",!1)),e.find("optgroup[disabled] > option:not([disabled])").prop("disabled",!0),e.on("change",(function(){b.find("input.dropdown-checkbox").prop("checked",!1),n=0,l=[],a=", ",e.find("option").each((function(e){b.find("#"+t+"-dropdown-checkbox-"+(e+1)).prop({disabled:this.disabled,checked:this.selected}),this.selected&&++n<10&&(l.push(this.innerText),", "==a&&this.innerText.indexOf(",")>=0&&(a="; "))})),jQuery("#"+t+"-dropdown-text").text(l.join(a)).prop("hidden",n<1),jQuery("#"+t+"-dropdown-badge").text(n).prop("hidden",n<2),jQuery("#"+t+"-dropdown-btn").toggleClass(["active","bg-secondary","text-white"],n>0).toggleClass(["bg-white","text-dark"],n<1).attr("aria-pressed",n>0),jQuery("#"+t+"-reset-btn").prop("disabled",n<1)})),jQuery("#"+t+"-reset-btn").on("click",(function(){e.find("option:selected:not(:disabled)").prop("selected",!1),b.find("input.dropdown-checkbox").prop("checked",!1),jQuery("#"+t+"-dropdown-badge").text(0).prop("hidden",!0),jQuery("#"+t+"-dropdown-btn").toggleClass(["active","bg-secondary","text-white"],!1).toggleClass(["bg-white","text-dark"],!0).attr("aria-pressed",!1),this.disabled=!0,e.trigger("change")})),jQuery(window).on("pageshow",(function(){e.trigger("change")}))})))}}();